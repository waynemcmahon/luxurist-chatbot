/*! For license information please see luxurist-chatbot.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("LuxuristChatbot",["React","ReactDOM"],n):"object"==typeof exports?exports.LuxuristChatbot=n(require("React"),require("ReactDOM")):e.LuxuristChatbot=n(e.React,e.ReactDOM)}(window,((e,n)=>(()=>{var t={110:function(e,n,t){var r,o,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[n,t(883),t(848)],void 0===(a="function"==typeof(r=function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceflowChat=void 0;e.VoiceflowChat=e=>{let{projectId:r,apiKey:o,placement:a="floating",initialMessage:i="Hey! Ready to plan your trip?"}=e;const[s,c]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[f,y]=(0,n.useState)([]),[m,h]=(0,n.useState)(""),[v,x]=(0,n.useState)([]),[g,b]=(0,n.useState)(!1),w=(0,n.useRef)(null),j=(0,n.useRef)(`user-${Math.random().toString(36).substring(7)}`),k=()=>{w.current?.scrollIntoView({behavior:"smooth"})},C=async e=>{try{b(!0);const n=await fetch(`https://general-runtime.voiceflow.com/state/user/${j.current}/interact`,{method:"POST",headers:{Authorization:o,versionID:"production","Content-Type":"application/json"},body:JSON.stringify({request:e,config:{tts:!1,stripSSML:!0,stopAll:!0,excludeTypes:["debug","flow","block","log"]}})});if(!n.ok)throw new Error(`Voiceflow API returned ${n.status}`);const t=await n.json();if(!Array.isArray(t))throw new Error("Invalid response format from Voiceflow API");let r=[],a=[];for(const e of t)"text"===e.type?r.push({type:"assistant",content:e.payload.message}):"choice"===e.type?a=e.payload.buttons:"end"===e.type&&console.log("Conversation ended");r.length>0&&(y((e=>[...e,...r])),setTimeout(k,100)),a.length>0&&x(a)}catch(e){console.error("Error interacting with Voiceflow:",e),y((e=>[...e,{type:"assistant",content:"Sorry, I encountered an error. Please try again."}]))}finally{b(!1)}},S=async e=>{e.trim()&&(y((n=>[...n,{type:"user",content:e}])),h(""),x([]),setTimeout(k,100),await C({type:"text",payload:e}))},I="inline"===a?"w-full h-full min-h-[600px] bg-white rounded-xl shadow-md":"fixed bottom-5 right-5 w-[350px] h-[500px] z-50 shadow-lg rounded-xl bg-white";return l?(0,t.jsxs)("div",{id:"voiceflow-chat-container",className:`transition-all duration-500 ease-in-out font-hanken ${s?"opacity-100 scale-100":"opacity-0 scale-95"} ${I}`,"aria-live":"polite",role:"region","aria-label":"Chat interface",children:[(0,t.jsxs)("div",{className:"border-b border-gray-100 p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-gilda text-gray-900",children:"Luxury Travel Concierge"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Your personal travel planning assistant"})]}),(0,t.jsxs)("div",{className:"flex flex-col h-[calc(100%-8rem)]",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.map(((e,n)=>(0,t.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"} message ${e.type}`,children:(0,t.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 "+("user"===e.type?"bg-primary text-white":"bg-secondary text-text"),children:e.content})},n))),g&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-secondary text-text rounded-lg px-4 py-2 typing",children:"typing..."})}),(0,t.jsx)("div",{ref:w})]}),v.length>0&&(0,t.jsx)("div",{className:"p-4 space-y-2",children:v.map(((e,n)=>(0,t.jsx)("button",{onClick:()=>(async e=>{y((n=>[...n,{type:"user",content:e.name}])),x([]),setTimeout(k,100),await C(e.request)})(e),className:"w-full text-left px-4 py-2 rounded-lg choice-button font-gilda",children:e.name},n)))}),(0,t.jsx)("div",{className:"border-t p-4 input-area mt-auto",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S(m))},placeholder:"Share your travel vision...",className:"flex-1 px-4 py-2 rounded-lg focus:outline-none",disabled:g}),(0,t.jsx)("button",{onClick:()=>S(m),disabled:g||!m.trim(),className:"px-4 py-2 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed font-gilda","aria-label":"Send message",children:"Send"})]})})]})]}):(0,t.jsxs)("div",{className:`${I} flex flex-col items-center justify-center p-8 space-y-8 welcome-screen`,children:[(0,t.jsx)("h2",{className:"text-3xl font-gilda text-gray-900 text-center leading-tight",children:"Ready to plan your luxury travel experience?"}),(0,t.jsx)("p",{className:"text-gray-600 text-center",children:"Our AI travel concierge is here to craft your perfect journey."}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,t.jsx)("input",{type:"checkbox",id:"privacy-consent",checked:u,onChange:e=>p(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"}),(0,t.jsxs)("label",{htmlFor:"privacy-consent",className:"text-sm text-gray-600",children:["I CONSENT TO RECEIVE COMMUNICATIONS AS PER THE"," ",(0,t.jsx)("a",{href:"#",className:"underline hover:text-primary",children:"PRIVACY POLICY"})]})]}),(0,t.jsx)("button",{onClick:async()=>{u&&(d(!0),setTimeout((async()=>{c(!0),await C({type:"launch"})}),500))},disabled:!u,className:`\n            w-full px-8 py-4 text-white text-lg font-gilda tracking-widest\n            transition-all duration-300 ease-in-out transform\n            ${u?"bg-primary hover:bg-primary/90 hover:-translate-y-1":"bg-gray-300 cursor-not-allowed"}\n          `,children:"LET'S START"})]})}})?r.apply(n,o):r)||(e.exports=a)},43:function(e,n,t){var r,o,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[n,t(883),t(845),t(110),t(255),t(848)],void 0===(a="function"==typeof(r=function(e,n,r,o,a,i){"use strict";var s=t(994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=s(n),r=s(r);const c={initChat:function(e){const{projectId:n,apiKey:t,placement:a="floating",containerId:s}=e;if(s){const e=document.getElementById(s);if(!e)return void console.error(`Container with id "${s}" not found`);r.default.render((0,i.jsx)(o.VoiceflowChat,{projectId:n,apiKey:t,placement:"inline",initialMessage:"Hi there! I'm your luxury travel concierge. How can I help you plan your perfect getaway?"}),e)}else{const e=document.createElement("div");e.id="luxurist-chatbot-container",document.body.appendChild(e),r.default.render((0,i.jsx)(o.VoiceflowChat,{projectId:n,apiKey:t,placement:"floating",initialMessage:"Hi there! I'm your luxury travel concierge. How can I help you plan your perfect getaway?"}),e)}}};e.default=c})?r.apply(n,o):r)||(e.exports=a)},614:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/* Custom styles for Voiceflow Chat */\n:root {\n  --vf-primary-color: hsla(23, 91.90%, 29.53%, 1.00);  /* Exact brown */\n  --vf-secondary-color: #FDF8F3; /* Light cream background */\n  --vf-text-color: #333;\n  --vf-background-color: white;\n  --vf-accent-color: #D4AF37; /* Gold */\n}\n\n/* Welcome screen styles */\n.welcome-screen {\n  animation: fadeIn 0.5s ease-out forwards;\n}\n\n.welcome-screen h2 {\n  animation: slideUp 0.6s ease-out forwards;\n}\n\n.welcome-screen p {\n  animation: slideUp 0.6s ease-out forwards 0.1s;\n  opacity: 0;\n  animation-fill-mode: forwards;\n}\n\n.welcome-screen .flex {\n  animation: slideUp 0.6s ease-out forwards 0.2s;\n  opacity: 0;\n  animation-fill-mode: forwards;\n}\n\n.welcome-screen button {\n  animation: slideUp 0.6s ease-out forwards 0.3s;\n  opacity: 0;\n  animation-fill-mode: forwards;\n}\n\n/* Chat container styles */\n#voiceflow-chat-container {\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  font-family: 'Hanken Grotesk', sans-serif;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n  transform-origin: center center;\n}\n\n/* Message styles */\n#voiceflow-chat-container .message {\n  animation: slideIn 0.3s ease-out forwards;\n}\n\n#voiceflow-chat-container .message > div {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n/* User message specific styles */\n#voiceflow-chat-container .message.user > div {\n  background: var(--vf-primary-color);\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n}\n\n/* Assistant message specific styles */\n#voiceflow-chat-container .message.assistant > div {\n  background: var(--vf-secondary-color);\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n}\n\n/* Input area styles */\n#voiceflow-chat-container .input-area {\n  border-top: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n  background: white;\n}\n\n#voiceflow-chat-container input {\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.2);\n  transition: all 0.2s ease;\n  width: 100%;\n  background: white;\n}\n\n#voiceflow-chat-container input:focus {\n  border-color: var(--vf-primary-color);\n  box-shadow: 0 0 0 2px hsla(23, 91.90%, 29.53%, 0.1);\n  outline: none;\n}\n\n#voiceflow-chat-container button {\n  background: var(--vf-primary-color);\n  transition: all 0.3s ease;\n  color: white;\n}\n\n#voiceflow-chat-container button:hover:not(:disabled) {\n  background: hsla(23, 91.90%, 25%, 1.00);\n  transform: translateY(-1px);\n}\n\n/* Choice buttons */\n#voiceflow-chat-container .choice-button {\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.2);\n  background: white;\n  transition: all 0.2s ease;\n  width: 100%;\n  text-align: left;\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n}\n\n#voiceflow-chat-container .choice-button:hover {\n  background: var(--vf-secondary-color);\n  border-color: var(--vf-primary-color);\n}\n\n/* Typing indicator */\n#voiceflow-chat-container .typing {\n  animation: typing 1.5s infinite;\n  color: var(--vf-primary-color);\n}\n\n/* Custom scrollbar */\n#voiceflow-chat-container ::-webkit-scrollbar {\n  width: 6px;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-thumb {\n  background: hsla(23, 91.90%, 29.53%, 0.2);\n  border-radius: 3px;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-thumb:hover {\n  background: hsla(23, 91.90%, 29.53%, 0.4);\n}\n\n/* Checkbox styles */\n#privacy-consent {\n  cursor: pointer;\n  border-color: var(--vf-primary-color);\n}\n\n#privacy-consent:checked {\n  background-color: var(--vf-primary-color);\n  border-color: var(--vf-primary-color);\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes typing {\n  0% { opacity: 0.3; }\n  50% { opacity: 1; }\n  100% { opacity: 0.3; }\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  #voiceflow-chat-container {\n    border-radius: 12px;\n    margin: 1rem 0;\n  }\n}",""]);const s=i},314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},601:e=>{"use strict";e.exports=function(e){return e[1]}},20:(e,n,t)=>{"use strict";var r=t(883),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,t){var r,a={},l=null,d=null;for(r in void 0!==t&&(l=""+t),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,r)&&!c.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===a[r]&&(a[r]=n[r]);return{$$typeof:o,type:e,key:l,ref:d,props:a,_owner:s.current}}n.Fragment=a,n.jsx=l,n.jsxs=l},848:(e,n,t)=>{"use strict";e.exports=t(20)},255:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>v});var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),c=t.n(s),l=t(56),d=t.n(l),u=t(540),p=t.n(u),f=t(113),y=t.n(f),m=t(614),h={};h.styleTagTransform=y(),h.setAttributes=d(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p(),o()(m.A,h);const v=m.A&&m.A.locals?m.A.locals:void 0},72:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var y=o(f,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:y,references:1})}i.push(u)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var c=r(e,o),l=0;l<a.length;l++){var d=t(a[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=c}}},659:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},883:n=>{"use strict";n.exports=e},845:e=>{"use strict";e.exports=n},994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={id:e,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var a=o(43);return a.default})()));