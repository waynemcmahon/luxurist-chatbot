/*! For license information please see luxurist-chatbot.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("LuxuristChatbot",["React","ReactDOM"],t):"object"==typeof exports?exports.LuxuristChatbot=t(require("React"),require("ReactDOM")):e.LuxuristChatbot=t(e.React,e.ReactDOM)}(window,((e,t)=>(()=>{var n={110:function(e,t,n){var o,r,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(883),n(848)],void 0===(a="function"==typeof(o=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceflowChat=void 0;e.VoiceflowChat=e=>{let{projectId:o,apiKey:r,placement:a="floating",initialMessage:i="Hey! Ready to plan your trip?"}=e;const[s,c]=(0,t.useState)(!1),[l,u]=(0,t.useState)([]),[d,p]=(0,t.useState)(""),[f,y]=(0,t.useState)([]),[h,v]=(0,t.useState)(!1),m=(0,t.useRef)(null),x=(0,t.useRef)(`user-${Math.random().toString(36).substring(7)}`),g=()=>{m.current?.scrollIntoView({behavior:"smooth"})},b=async e=>{try{v(!0);const t=await fetch(`https://general-runtime.voiceflow.com/state/user/${x.current}/interact`,{method:"POST",headers:{Authorization:r,versionID:"production","Content-Type":"application/json"},body:JSON.stringify({request:e,config:{tts:!1,stripSSML:!0,stopAll:!0,excludeTypes:["debug","flow","block","log"]}})});if(!t.ok)throw new Error(`Voiceflow API returned ${t.status}`);const n=await t.json();if(!Array.isArray(n))throw new Error("Invalid response format from Voiceflow API");let o=[],a=[];for(const e of n)"text"===e.type?o.push({type:"assistant",content:e.payload.message}):"choice"===e.type?a=e.payload.buttons:"end"===e.type&&console.log("Conversation ended");o.length>0&&(u((e=>[...e,...o])),setTimeout(g,100)),a.length>0&&y(a)}catch(e){console.error("Error interacting with Voiceflow:",e),u((e=>[...e,{type:"assistant",content:"Sorry, I encountered an error. Please try again."}]))}finally{v(!1)}},w=async e=>{e.trim()&&(u((t=>[...t,{type:"user",content:e}])),p(""),y([]),setTimeout(g,100),await b({type:"text",payload:e}))};(0,t.useEffect)((()=>{(async()=>{c(!0),await b({type:"launch"})})()}),[]);const j="inline"===a?"w-full h-full min-h-[600px] bg-white rounded-xl shadow-md":"fixed bottom-5 right-5 w-[350px] h-[500px] z-50 shadow-lg rounded-xl bg-white";return(0,n.jsxs)("div",{id:"voiceflow-chat-container",className:`transition-opacity duration-500 ease-in-out font-hanken ${s?"opacity-100":"opacity-0"} ${j}`,"aria-live":"polite",role:"region","aria-label":"Chat interface",children:[(0,n.jsxs)("div",{className:"border-b border-gray-100 p-4",children:[(0,n.jsx)("h2",{className:"text-lg font-gilda text-gray-900",children:"Luxury Travel Concierge"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Your personal travel planning assistant"})]}),(0,n.jsxs)("div",{className:"flex flex-col h-[calc(100%-8rem)]",children:[(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(((e,t)=>(0,n.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"} message ${e.type}`,children:(0,n.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 "+("user"===e.type?"bg-primary text-white":"bg-secondary text-text"),children:e.content})},t))),h&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-secondary text-text rounded-lg px-4 py-2 typing",children:"typing..."})}),(0,n.jsx)("div",{ref:m})]}),f.length>0&&(0,n.jsx)("div",{className:"p-4 space-y-2",children:f.map(((e,t)=>(0,n.jsx)("button",{onClick:()=>(async e=>{u((t=>[...t,{type:"user",content:e.name}])),y([]),setTimeout(g,100),await b(e.request)})(e),className:"w-full text-left px-4 py-2 rounded-lg choice-button font-gilda",children:e.name},t)))}),(0,n.jsx)("div",{className:"border-t p-4 input-area mt-auto",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w(d))},placeholder:"Share your travel vision...",className:"flex-1 px-4 py-2 rounded-lg focus:outline-none",disabled:h}),(0,n.jsx)("button",{onClick:()=>w(d),disabled:h||!d.trim(),className:"px-4 py-2 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed font-gilda","aria-label":"Send message",children:"Send"})]})})]})]})}})?o.apply(t,r):o)||(e.exports=a)},43:function(e,t,n){var o,r,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,n(883),n(845),n(110),n(255),n(848)],void 0===(a="function"==typeof(o=function(e,t,o,r,a,i){"use strict";var s=n(994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=s(t),o=s(o);const c={initChat:function(e){const{projectId:t,apiKey:n,placement:a="floating",containerId:s}=e;if(s){const e=document.getElementById(s);if(!e)return void console.error(`Container with id "${s}" not found`);o.default.render((0,i.jsx)(r.VoiceflowChat,{projectId:t,apiKey:n,placement:"inline",initialMessage:"Hi there! I'm your luxury travel concierge. How can I help you plan your perfect getaway?"}),e)}else{const e=document.createElement("div");e.id="luxurist-chatbot-container",document.body.appendChild(e),o.default.render((0,i.jsx)(r.VoiceflowChat,{projectId:t,apiKey:n,placement:"floating",initialMessage:"Hi there! I'm your luxury travel concierge. How can I help you plan your perfect getaway?"}),e)}}};e.default=c})?o.apply(t,r):o)||(e.exports=a)},614:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var o=n(601),r=n.n(o),a=n(314),i=n.n(a)()(r());i.push([e.id,"/* Custom styles for Voiceflow Chat */\n:root {\n  --vf-primary-color: hsla(23, 91.90%, 29.53%, 1.00);  /* Exact brown */\n  --vf-secondary-color: #FDF8F3; /* Light cream background */\n  --vf-text-color: #333;\n  --vf-background-color: white;\n  --vf-accent-color: #D4AF37; /* Gold */\n}\n\n/* Chat container styles */\n#voiceflow-chat-container {\n  transition: all 0.3s ease-in-out;\n  font-family: 'Hanken Grotesk', sans-serif;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: white;\n}\n\n/* Message styles */\n#voiceflow-chat-container .message {\n  animation: slideIn 0.3s ease-out forwards;\n}\n\n#voiceflow-chat-container .message > div {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n/* User message specific styles */\n#voiceflow-chat-container .message.user > div {\n  background: var(--vf-primary-color);\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n}\n\n/* Assistant message specific styles */\n#voiceflow-chat-container .message.assistant > div {\n  background: var(--vf-secondary-color);\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n}\n\n/* Input area styles */\n#voiceflow-chat-container .input-area {\n  border-top: 1px solid hsla(23, 91.90%, 29.53%, 0.1);\n  background: white;\n}\n\n#voiceflow-chat-container input {\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.2);\n  transition: all 0.2s ease;\n  width: 100%;\n  background: white;\n}\n\n#voiceflow-chat-container input:focus {\n  border-color: var(--vf-primary-color);\n  box-shadow: 0 0 0 2px hsla(23, 91.90%, 29.53%, 0.1);\n  outline: none;\n}\n\n#voiceflow-chat-container button {\n  background: var(--vf-primary-color);\n  transition: all 0.2s ease;\n  color: white;\n}\n\n#voiceflow-chat-container button:hover:not(:disabled) {\n  background: hsla(23, 91.90%, 25%, 1.00);\n  transform: translateY(-1px);\n}\n\n/* Choice buttons */\n#voiceflow-chat-container .choice-button {\n  border: 1px solid hsla(23, 91.90%, 29.53%, 0.2);\n  background: white;\n  transition: all 0.2s ease;\n  width: 100%;\n  text-align: left;\n  padding: 0.5rem 1rem;\n  border-radius: 0.5rem;\n}\n\n#voiceflow-chat-container .choice-button:hover {\n  background: var(--vf-secondary-color);\n  border-color: var(--vf-primary-color);\n}\n\n/* Typing indicator */\n#voiceflow-chat-container .typing {\n  animation: typing 1.5s infinite;\n  color: var(--vf-primary-color);\n}\n\n/* Custom scrollbar */\n#voiceflow-chat-container ::-webkit-scrollbar {\n  width: 6px;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-thumb {\n  background: hsla(23, 91.90%, 29.53%, 0.2);\n  border-radius: 3px;\n}\n\n#voiceflow-chat-container ::-webkit-scrollbar-thumb:hover {\n  background: hsla(23, 91.90%, 29.53%, 0.4);\n}\n\n/* Animations */\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes typing {\n  0% { opacity: 0.3; }\n  50% { opacity: 1; }\n  100% { opacity: 0.3; }\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  #voiceflow-chat-container {\n    border-radius: 12px;\n    margin: 1rem 0;\n  }\n}",""]);const s=i},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},20:(e,t,n)=>{"use strict";var o=n(883),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,a={},l=null,u=null;for(o in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,o)&&!c.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:l,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},848:(e,t,n)=>{"use strict";e.exports=n(20)},255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n(72),r=n.n(o),a=n(825),i=n.n(a),s=n(659),c=n.n(s),l=n(56),u=n.n(l),d=n(540),p=n.n(d),f=n(113),y=n.n(f),h=n(614),v={};v.styleTagTransform=y(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),r()(h.A,v);const m=h.A&&h.A.locals?h.A.locals:void 0},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var y=r(f,o);o.byIndex=s,t.splice(s,0,{identifier:d,updater:y,references:1})}i.push(d)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=o(e,r),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},883:t=>{"use strict";t.exports=e},845:e=>{"use strict";e.exports=t},994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={id:e,exports:{}};return n[e].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var a=r(43);return a.default})()));